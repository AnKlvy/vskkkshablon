<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <div th:insert="layout/main.html :: head"></div>
</head>
<body>
<div th:insert="layout/main.html :: navbar"></div>
<div class="container col col-xxl">
<div id="carouselExampleIndicators" class=" carousel slide" data-bs-ride="true">

    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img th:src="@{images/GIT_-Fame_20th_EN.webp}" class="d-block w-100" alt="1....................">
        </div>
        <div class="carousel-item">
            <img th:src="@{images/GIT_JaD_Vintage_EN.webp}" class="d-block w-100" alt="2....................">
        </div>
        <div class="carousel-item">
            <img th:src="@{images/MS_50-Years-Deals.webp}" class="d-block w-100" alt="3....................">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
</div>


)


<div class="row mt-5">
    <div class="col-6 offset-3">





        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>NAME</th>
                <th>PRICE</th>
                <th>AMOUNT</th>
                <th>DESCRIPTION</th>
                <th>CATEGORIES</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
           <tr th:each = "it : ${tovary}" >

                <td th:text = "${it.getId()}"></td>
                <td th:text = "${it.getName()}"></td>
                <td th:text = "${it.getPrice()}"></td>
                <td th:text = "${it.getAmount()}"></td>
                <td th:text = "${it.getDescription()}"></td>
               <td>
                   <span th:each="cat : ${it.categories}" th:text="${cat.name}" style="display: block;"></span>
               </td>
               <td>
<!--                   <form th:action="@{'/deleteitem/'}" method="post">-->
<!--                       <input type="hidden" name="id" th:value="${it.getId()}">-->
<!--                       <button>Delete</button>-->
<!--                   </form>-->
                   <a sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MODERATOR')" th:href="@{'/details?id='+ ${it.getId()}}">Edit</a>
                   <a  th:href="@{'/details2?id='+ ${it.getId()}}">Details</a>
               </td>
            </tr>
            </tbody>
        </table>
        <a th:href="@{'/additem'}">Add Item</a>
    </div>
</div>
</body>
</html>